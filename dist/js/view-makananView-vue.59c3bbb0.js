(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-makananView-vue"],{"0e8f":function(a,t,e){"use strict";e("20f6");var n=e("e8f2");t["a"]=Object(n["a"])("flex")},a722:function(a,t,e){"use strict";e("20f6");var n=e("e8f2");t["a"]=Object(n["a"])("layout")},fec7:function(a,t,e){"use strict";e.r(t);var n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",[e("v-card",[e("v-container",{attrs:{"grid-list-md":"","mb-0":""}},[e("h2",{staticClass:"text-md-center"},[a._v("Data Makanan")]),e("v-layout",{staticStyle:{margin:"10px"},attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs6:""}},[e("v-text-field",{attrs:{"append-icon":"mdi-search",label:"Search","hide-details":""},model:{value:a.keyword,callback:function(t){a.keyword=t},expression:"keyword"}})],1)],1),e("v-data-table",{attrs:{headers:a.headers,items:a.foods,search:a.keyword,loading:a.load},scopedSlots:a._u([{key:"body",fn:function(t){t.items;return[e("tbody",a._l(a.foods,(function(t,n){return e("tr",{key:t.id},[e("td",[a._v(a._s(n+1))]),e("td",[e("img",{attrs:{src:a.$apiUrl2+"food_pict/"+t.foto,contain:"",width:"80",height:"80"}})]),e("td",[a._v(a._s(t.nama_makanan))]),e("td",[a._v(a._s(t.alamat))]),e("td",[a._v(a._s(t.jenis_makanan))]),e("td",{staticClass:"text-center"},[e("v-btn",{attrs:{icon:"",color:"error",light:""},on:{click:function(e){return a.tampil(t)}}},[a._v(" Read More ")])],1)])})),0)]}}])})],1)],1),e("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:a.dialog,callback:function(t){a.dialog=t},expression:"dialog"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"headline"},[a._v("Detail Makanan")])]),e("v-card-text",[e("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",small:"",color:"pink"},on:{click:function(t){return a.tambahfaorite()}}},[e("v-icon",{attrs:{dark:""}},[a._v("mdi-heart")])],1),e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("img",{attrs:{src:a.$apiUrl2+"food_pict/"+a.form.foto,contain:"",width:"80",height:"80"}})]),e("v-col",{attrs:{cols:"12"}},[e("p",[a._v(a._s(a.form.nama_makanan))])]),e("v-col",{attrs:{cols:"12"}},[e("p",[a._v(a._s(a.form.review))])])],1)],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){a.dialog=!1}}},[a._v("Close")])],1)],1)],1),e("v-snackbar",{attrs:{color:a.color,"multi-line":!0,timeout:3e3},model:{value:a.snackbar,callback:function(t){a.snackbar=t},expression:"snackbar"}},[a._v(" "+a._s(a.text)+" "),e("v-btn",{attrs:{dark:"",text:""},on:{click:function(t){a.snackbar=!1}}},[a._v(" Close ")])],1)],1)},o=[],r=(e("b0c0"),{data:function(){return{dialog:!1,tempTampil:[],keyword:"",headers:[{text:"No",value:"no"},{text:"",value:""},{text:"Nama Makanan",value:"nama_makanan"},{text:"Alamat",value:"alamat"},{text:"Jenis Makanan",value:"jenis_makanan"},{text:"",value:null}],foods:[],snackbar:!1,color:null,text:"",load:!1,form:{id:"",nama_makanan:"",alamat:"",jenis_makanan:"",review:"",foto:""},food:new FormData,typeInput:"new",errors:"",updatedId:""}},methods:{getData:function(){var a=this,t={headers:{Authorization:localStorage.getItem("token")}},e=this.$apiUrl+"/makanan";this.$http.get(e,t).then((function(t){a.foods=t.data.message}))},tampil:function(a){this.form.nama_makanan=a.nama_makanan,this.form.foto=a.foto,this.form.review=a.review,this.form.id=a.id,this.dialog=!0},tambahfaorite:function(){var a=this;this.food.append("username",localStorage.getItem("username")),this.food.append("id",this.form.id);var t=this.$apiUrl+"/favorite_food";this.$http.post(t,this.food).then((function(t){a.snackbar=!0,a.color="green",a.text=t.data.message})).catch((function(t){a.errors=t,a.snackbar=!0,a.text="Try Again",a.color="red",a.load=!1}))},sendData:function(){var a=this;this.user.append("name",this.form.name),this.user.append("email",this.form.email),this.user.append("password",this.form.password);var t=this.$apiUrl+"/user";this.load=!0,this.$http.post(t,this.user).then((function(t){a.snackbar=!0,a.color="green",a.text=t.data.message,a.load=!1,a.dialog=!1,a.getData(),a.resetForm()})).catch((function(t){a.errors=t,a.snackbar=!0,a.text="Try Again",a.color="red",a.load=!1}))},updateData:function(){var a=this;this.user.append("name",this.form.name),this.user.append("email",this.form.email),this.user.append("password",this.form.password);var t=this.$apiUrl+"/user/"+this.updatedId;this.load=!0,this.$http.post(t,this.user).then((function(t){a.snackbar=!0,a.color="green",a.text=t.data.message,a.load=!1,a.dialog=!1,a.getData(),a.resetForm(),a.typeInput="new"})).catch((function(t){a.errors=t,a.snackbar=!0,a.text="Try Again",a.color="red",a.load=!1,a.typeInput="new"}))},editHandler:function(a){this.typeInput="edit",this.dialog=!0,this.form.name=a.name,this.form.email=a.email,this.form.password="",this.updatedId=a.id},deleteData:function(a){var t=this,e=this.$apiUrl+"/user/"+a;this.$http.delete(e).then((function(a){t.snackbar=!0,t.text=a.data.message,t.color="green",t.deleteDialog=!1,t.getData()})).catch((function(a){t.errors=a,t.snackbar=!0,t.text="Try Again",t.color="red"}))},setForm:function(){"new"===this.typeInput?this.sendData():(console.log("dddd"),this.updateData())},resetForm:function(){this.form={name:"",email:"",password:""}}},mounted:function(){this.getData()}}),s=r,i=e("2877"),d=e("6544"),l=e.n(d),c=e("8336"),m=e("b0af"),h=e("99d9"),u=e("62ad"),f=e("a523"),p=e("8fea"),v=e("169a"),k=e("0e8f"),g=e("132d"),b=e("a722"),x=e("0fd9"),_=e("2db4"),w=e("2fa4"),y=e("8654"),V=Object(i["a"])(s,n,o,!1,null,null,null);t["default"]=V.exports;l()(V,{VBtn:c["a"],VCard:m["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VCol:u["a"],VContainer:f["a"],VDataTable:p["a"],VDialog:v["a"],VFlex:k["a"],VIcon:g["a"],VLayout:b["a"],VRow:x["a"],VSnackbar:_["a"],VSpacer:w["a"],VTextField:y["a"]})}}]);
//# sourceMappingURL=view-makananView-vue.59c3bbb0.js.map